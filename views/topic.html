{% extends "base.html" %}

{% block title %}{{topic.meta.title}} - {{p.meta.title}}{% endblock %}

{% block content %}

<div class='ui grid'>
    <div class='twelve wide column topic-content'>
        <h1>{{topic.meta.title}}</h1>
        <div id='topic-content'>
            {{topicHtml|safe}}
        </div>
        <div class="ui hidden divider"></div>
        <div>
            {% if nextTopic %}
                <a href="/@{{p.meta.code}}/{{nextTopic.meta.code}}" class="ui primary tiny right floated button">{{nextTopic.meta.title}} &rarr;</a>
            {% endif %}
            {% if prevTopic %}
                <a href="/@{{p.meta.code}}/{{prevTopic.meta.code}}" class="ui tiny left floated button">&larr; {{prevTopic.meta.title}}</a>
            {% endif %}
        </div>
    </div>
    <div class='four wide column topic-meta'>
        <div class='toc'>
            <div class='ui vertical menu'>
                <div class='header item'>
                    <i class='icon {% if p.meta.done %}green checkmark{% else %}wait{% endif %}'></i>{{p.meta.title}}
                    <div class='small author'>by {{p.meta.author}}</div>
                </div>
                {% for t in p.topics %}
                    <a class='item' href='/@{{p.meta.code}}/{{t.meta.code}}'><i class='icon {% if topic.meta.code == t.meta.code %}left arrow{% elif t.meta.done == true %}green checkmark{% else %}wait{% endif %}'></i>{{t.meta.title}}</a>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

<div class="ui hidden clearing divider"></div>

{% endblock %}