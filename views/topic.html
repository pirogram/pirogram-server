{% extends "base.html" %}

{% block title %}{{m.title}} - {{topic.meta.title}}{% endblock %}

{% block content %}

<div class='ui grid'>
    <div class='twelve wide column topic-content'>
        <h1>{{topic.meta.title}}</h1>
        <div id='topic-content'>
            {{topicHtml|safe}}
        </div>
    </div>
    <div class='four wide column topic-meta'>
        <div class='toc'>
            <div class='ui vertical menu'>
                <div class='header item'>{{m.title}}
                    {% if m.author_name %}
                        <div class='small author'>by <a href='{{m.author_url}}'>{{m.author_name}}</a></div>
                    {% endif %}
                </div>
                {% for t in m.topics %}
                    <a class='item' href='/modules/{{m.code}}/{{t.meta.code}}'><i class='icon {% if topic.meta.code == t.meta.code %}left arrow{% elif t.state.done == true %}green checkmark{% else %}wait{% endif %}'></i>{{t.meta.title}}</a>
                {% endfor %}
            </div>
        </div>
    </div>
</div>

{# <div id="topic-content">{{topicHtml|safe}}</div> #}

<div class="ui hidden divider"></div>
<div>
    {% if nextTopic %}
        <a href="/topic/{{m.slug}}/{{nextTopic.slug}}" class="ui primary tiny right floated button">{{nextTopic.tocName}} &rarr;</a>
    {% endif %}
    {% if prevTopic %}
        <a href="/topic/{{m.slug}}/{{prevTopic.slug}}" class="ui tiny left floated button">&larr; {{prevTopic.tocName}}</a>
    {% endif %}
</div>

<div class="ui hidden clearing divider"></div>

{% endblock %}